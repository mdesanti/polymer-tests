<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="event-card.html">

<polymer-element name="event-list" attributes="events">
  <template>
    <style>
    </style>

    <template repeat="{{event in events}}">
      <event-card
        on-card-selected="{{cardSelected}}">
        <img width="70" height="70"src="../../images/avatar-01.svg">
        <span id="event-summary">{{event.summary}}</span>
        <span id="time">{{event.start.datetime | formatDate}}</span>
      </event-card>

    </template>

  </template>
  <script>
    Polymer({
      cardSelected: function(event, detail, sender) {
        this.fire('show-card-details', sender.templateInstance.model.event)
      },
      formatDate: function(date) {
        return moment(date).format('LL');
      }
    });
  </script>
</polymer-element>
